<?xml version="1.0" encoding="UTF-8"?><extensionAttribute>
<displayName>MacOS Mojave Compatibility</displayName>
<description>Test compatibility of computers with macOS Mojave</description>
<dataType>string</dataType>
<scriptContentsMac>#!/bin/bash&#13;
&#13;
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #&#13;
#&#13;
# Copyright (c) 2018 Jamf.  All rights reserved.&#13;
#&#13;
#       Redistribution and use in source and binary forms, with or without&#13;
#       modification, are permitted provided that the following conditions are met:&#13;
#               * Redistributions of source code must retain the above copyright&#13;
#                 notice, this list of conditions and the following disclaimer.&#13;
#               * Redistributions in binary form must reproduce the above copyright&#13;
#                 notice, this list of conditions and the following disclaimer in the&#13;
#                 documentation and/or other materials provided with the distribution.&#13;
#               * Neither the name of the Jamf nor the names of its contributors may be&#13;
#                 used to endorse or promote products derived from this software without&#13;
#                 specific prior written permission.&#13;
#&#13;
#       THIS SOFTWARE IS PROVIDED BY JAMF SOFTWARE, LLC "AS IS" AND ANY&#13;
#       EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED&#13;
#       WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE&#13;
#       DISCLAIMED. IN NO EVENT SHALL JAMF SOFTWARE, LLC BE LIABLE FOR ANY&#13;
#       DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES&#13;
#       (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;&#13;
#       LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND&#13;
#       ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT&#13;
#       (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS&#13;
#       SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.&#13;
#&#13;
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #&#13;
&#13;
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #&#13;
# &#13;
# This script is published here:&#13;
# https://github.com/laurentpertois/Mojave-Compatibility-Checker&#13;
#&#13;
# Other scripts and resources available here:&#13;
# https://github.com/laurentpertois?tab=repositories&#13;
#&#13;
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #&#13;
&#13;
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #&#13;
#&#13;
# This script was designed to be used as an Extension Attribute to ensure specific&#13;
# requirements have been met to deploy macOS Mojave.&#13;
# &#13;
# General Requirements:&#13;
# 	- OS X 10.8.0 or later&#13;
# 	- 4GB of memory (Apple says 2GB for 10.14, I prefer having a minimum of 4GB)&#13;
# 	- 15GB of available storage (Apple says 8.8GB for 10.12, I prefer more space)&#13;
# &#13;
# These last 2 requirements can be modified in the first 2 variables (MINIMUMRAM&#13;
# and MINIMUMSPACE).&#13;
# 	- REQUIREDMINIMUMRAM: minimum RAM required, in GB&#13;
# 	- REQUIREDMINIMUMSPACE: minimum disk space available, in GB&#13;
# &#13;
# &#13;
# Mac Hardware Requirements and equivalent as minimum Model Identifier&#13;
# 	- MacBook (Early 2015 or newer), ie MacBook8,1&#13;
# 	- MacBook Pro (Mid 2012 or newer), ie MacBookPro9,1&#13;
# 	- MacBook Air (Mid 2012 or newer), ie MacBookAir5,1&#13;
# 	- Mac mini (Late 2012 or newer), ie Macmini6,1&#13;
# 	- iMac (Late 2012 or newer), ie iMac13,1&#13;
#	- iMac Pro, ie iMacPro1,1,1&#13;
# 	- Mac Pro (Late 2013 or newer), ie MacPro6,1&#13;
#   	- Mac Pro (Mid 2010 or Mid 2012 with a Metal Compatible GPU), ie MacPro5,1&#13;
#&#13;
# Default compatibility is set to False if no test pass (variable COMPATIBILITY)&#13;
#&#13;
# Written by: Laurent Pertois | Senior Professional Services Engineer | Jamf&#13;
#&#13;
# Created On: 2017-09-18&#13;
#&#13;
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #&#13;
&#13;
&#13;
&#13;
# Minimum RAM and Disk Space required (4GB and 15GB here)&#13;
REQUIREDMINIMUMRAM=4&#13;
REQUIREDMINIMUMSPACE=15&#13;
&#13;
#########################################################################################&#13;
############### DO NOT CHANGE UNLESS NEEDED&#13;
#########################################################################################&#13;
&#13;
# Default values for Compatibility is false&#13;
COMPATIBILITY="False"&#13;
&#13;
#########################################################################################&#13;
############### Let's go!&#13;
#########################################################################################&#13;
&#13;
# Checks minimum version of the OS before upgrade (10.7.5)&#13;
OSVERSIONMAJOR=$(sw_vers -buildVersion | cut -c 1-2)&#13;
OSVERSIONMINOR=$(sw_vers -buildVersion | cut -c 3)&#13;
&#13;
# Checks if computer meets pre-requisites for Mojave&#13;
if [[ "$OSVERSIONMAJOR" -ge 12 &amp;&amp; "$OSVERSIONMAJOR" -le 17 || "$OSVERSIONMAJOR" -eq 11 &amp;&amp; "OSVERSIONMINOR" == "G" ]]; then&#13;
	&#13;
	# Transform GB into Bytes&#13;
	GIGABYTES=$((1024 * 1024 * 1024))&#13;
	MINIMUMRAM=$(($REQUIREDMINIMUMRAM * $GIGABYTES))&#13;
	MINIMUMSPACE=$(($REQUIREDMINIMUMSPACE * $GIGABYTES))&#13;
&#13;
	# Gets the Model Identifier, splits name and major version&#13;
	MODELIDENTIFIER=$(/usr/sbin/sysctl -n hw.model)&#13;
	MODELNAME=$(echo "$MODELIDENTIFIER" | sed 's/[^a-zA-Z]//g')&#13;
	MODELVERSION=$(echo "$MODELIDENTIFIER" | sed 's/[^0-9,]//g' | awk -F, '{print $1}')&#13;
&#13;
	# Gets amount of memory installed&#13;
	MEMORYINSTALLED=$(/usr/sbin/sysctl -n hw.memsize)&#13;
&#13;
	# Gets free space on the boot drive&#13;
	FREESPACE=$(diskutil info / | awk -F'[()]' '/Free Space|Available Space/ {print $2}' | sed -e 's/\ Bytes//')&#13;
&#13;
	# Check Metal compatibility for Mac Pro 2010 and 2012, set to 1 for other Mac Pro&#13;
	METALCOMPATIBILITY=1&#13;
	if [[ "$MODELIDENTIFIER" == "MacPro5,1" ]]; then&#13;
		METALCOMPATIBILITY=$(system_profiler SPDisplaysDataType | grep -c "Metal: Supported")&#13;
	fi&#13;
&#13;
	&#13;
	# Checks if computer meets pre-requisites for High Sierra&#13;
	if [[ "$MODELNAME" == "iMac" &amp;&amp; "$MODELVERSION" -ge 13 &amp;&amp; "$MEMORYINSTALLED" -ge "$MINIMUMRAM" &amp;&amp; "$FREESPACE" -ge "$MINIMUMSPACE" ]]; then&#13;
		COMPATIBILITY="True"&#13;
	elif [[ "$MODELNAME" == "iMacPro" &amp;&amp; "$MODELVERSION" -ge 1 &amp;&amp; "$MEMORYINSTALLED" -ge "$MINIMUMRAM" &amp;&amp; "$FREESPACE" -ge "$MINIMUMSPACE" ]]; then&#13;
		COMPATIBILITY="True"&#13;
	elif [[ "$MODELNAME" == "Macmini" &amp;&amp; "$MODELVERSION" -ge 6 &amp;&amp; "$MEMORYINSTALLED" -ge "$MINIMUMRAM" &amp;&amp; "$FREESPACE" -ge "$MINIMUMSPACE" ]]; then&#13;
		COMPATIBILITY="True"&#13;
	elif [[ "$MODELNAME" == "MacPro" &amp;&amp; "$MODELVERSION" -ge 5 &amp;&amp; "$MEMORYINSTALLED" -ge "$MINIMUMRAM" &amp;&amp; "$FREESPACE" -ge "$MINIMUMSPACE" &amp;&amp; "$METALCOMPATIBILITY" -ge 1 ]]; then&#13;
	    COMPATIBILITY="True"&#13;
	elif [[ "$MODELNAME" == "MacBook" &amp;&amp; "$MODELVERSION" -ge 8 &amp;&amp; "$MEMORYINSTALLED" -ge "$MINIMUMRAM" &amp;&amp; "$FREESPACE" -ge "$MINIMUMSPACE" ]]; then&#13;
	    COMPATIBILITY="True"&#13;
	elif [[ "$MODELNAME" == "MacBookAir" &amp;&amp; "$MODELVERSION" -ge 5 &amp;&amp; "$MEMORYINSTALLED" -ge "$MINIMUMRAM" &amp;&amp; "$FREESPACE" -ge "$MINIMUMSPACE" ]]; then&#13;
	    COMPATIBILITY="True"&#13;
	elif [[ "$MODELNAME" == "MacBookPro" &amp;&amp; "$MODELVERSION" -ge 9 &amp;&amp; "$MEMORYINSTALLED" -ge "$MINIMUMRAM" &amp;&amp; "$FREESPACE" -ge "$MINIMUMSPACE" ]]; then&#13;
	    COMPATIBILITY="True"&#13;
	fi&#13;
&#13;
	# Outputs result&#13;
	echo "&lt;result&gt;$COMPATIBILITY&lt;/result&gt;"&#13;
else&#13;
	echo "&lt;result&gt;$COMPATIBILITY&lt;/result&gt;"&#13;
	exit $?&#13;
fi</scriptContentsMac>
</extensionAttribute>
